(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{111:function(e,t,a){"use strict";a.r(t);a(61),a(86);var o=a(0),n=a.n(o),l=a(31),i=a.n(l),c=a(8),r=a.n(c),s=a(58),d=a(54),u=a(55),p=a(57),b=a(56),m=a(59),f=a(5),M=(a(110),function(e){var t=e.activeModal,a=e.onCloseModal,o=e.onJoinToGroup;return n.a.createElement(f.ModalRoot,{activeModal:t},n.a.createElement(f.ModalCard,{id:"USER_SUBSCRIBE_MODAL",onClose:function(){return a()},title:"\u0412\u044b \u043d\u0435 \u0432\u0441\u0442\u0443\u043f\u0438\u043b\u0438 \u0433\u0440\u0443\u043f\u043f\u0443",caption:"\u0414\u043b\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u0430 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u0432\u0441\u0442\u0443\u043f\u0438\u0442\u044c.",actions:[{title:"\u0412\u0441\u0443\u0442\u043f\u0438\u0442\u044c",type:"primary",action:function(){return o()}}]}))}),h=function(e){var t=e.id,a=e.go,o=e.fetchedUser,l=e.activeModal,i=e.onCloseModal,c=e.onJoinToGroup;return n.a.createElement(f.Panel,{id:t},n.a.createElement(f.PanelHeader,null,"Example"),o&&n.a.createElement(f.Group,{title:"User Data Fetched with VK Connect"},n.a.createElement(f.ListItem,{before:o.photo_200?n.a.createElement(f.Avatar,{src:o.photo_200}):null,description:o.city&&o.city.title?o.city.title:""},"".concat(o.first_name," ").concat(o.last_name))),n.a.createElement(f.Group,{title:"Navigation Example"},n.a.createElement(f.Div,null,n.a.createElement(f.Button,{size:"xl",level:"2",onClick:a,"data-to":"persik"},"Show me the Persik, please"))),n.a.createElement(M,{activeModal:l,onCloseModal:i,onJoinToGroup:c}))},v=185199781,E={v:"5.101",access_token:"59f1b2e059f1b2e059f1b2e0c5599da582559f159f1b2e004b9e79590e7db44bab8b30c"},_=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(b.a)(t).call(this,e))).activateModal=function(){a.setState({activeModal:"USER_SUBSCRIBE_MODAL"})},a.closeModal=function(){a.setState({activeModal:null})},a.joinToGroup=function(){r.a.send("VKWebAppJoinGroup",{group_id:v}),a.closeModal()},a.state={activePanel:"home",fetchedUser:null,activeModal:null},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;r.a.subscribe(function(t){var a=t.detail;switch(console.log(a),a.type){case"VKWebAppGetUserInfoResult":e.setState({fetchedUser:a.data}),r.a.send("VKWebAppCallAPIMethod",{method:"groups.isMember",params:Object(s.a)({group_id:v,request_id:"groups.isMember",user_id:a.data.id},E)});break;case"VKWebAppCallAPIMethodResult":"groups.isMember"===a.data.request_id&&0===a.data.response?e.activateModal():r.a.send("VKWebAppOpenQR");break;default:console.log("default")}}),r.a.send("VKWebAppGetUserInfo",{})}},{key:"render",value:function(){return n.a.createElement(f.View,{activePanel:this.state.activePanel},n.a.createElement(h,{id:"home",fetchedUser:this.state.fetchedUser,activeModal:this.state.activeModal,onCloseModal:this.closeModal,onJoinToGroup:this.joinToGroup}))}}]),t}(n.a.Component);r.a.send("VKWebAppInit",{}),console.log("kek",r.a.send("VKWebAppGetUserInfo",{})),i.a.render(n.a.createElement(_,null),document.getElementById("root"))},60:function(e,t,a){e.exports=a(111)}},[[60,1,2]]]);
//# sourceMappingURL=main.8511d419.chunk.js.map